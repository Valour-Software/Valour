<TooltipTrigger Position="right">
    <ChildContent>
        <img alt="@User.Name is watching" id="watching-icon-@User.Name" class="watching-icon" src='@_avatar' @onerror="@OnIconError" />
    </ChildContent>
    <TooltipContent>
        <span>@User.Name</span>
    </TooltipContent>
</TooltipTrigger>

@code {
    
    [Parameter]
    public User User { get; set; }

    private string _avatar;

    protected override void OnInitialized()
    {
        _avatar = User.GetAvatar();
    }

    private void OnIconError()
    {
        _avatar = User.GetFailedAvatar();
        StateHasChanged();
    }
}
